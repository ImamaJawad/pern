{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Imama Jawad\\\\Desktop\\\\projects\\\\pern\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"C:\\\\Users\\\\Imama Jawad\\\\Desktop\\\\projects\\\\pern\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Imama Jawad\\\\Desktop\\\\projects\\\\pern\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{Fragment,useState}from\"react\";var EditTodo=function EditTodo(_ref){var todo=_ref.todo;//editText function\nvar editText=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var body,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;body={description:description};_context.next=4;return fetch('http://localhost:5000/todos/${id}',{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 4:res=_context.sent;window.location=\"/\";_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function editText(_x){return _ref2.apply(this,arguments);};}();var _useState=useState(todo.description),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-warning\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(todo.todo_id)},\"Edit\"),/*#__PURE__*/React.createElement(\"div\",{class:\"modal\",id:\"id\".concat(todo.todo_id),onClick:function onClick(){return setDescription(todo.description);}},/*#__PURE__*/React.createElement(\"div\",{class:\"modal-dialog\"},/*#__PURE__*/React.createElement(\"div\",{class:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{class:\"modal-header\"},/*#__PURE__*/React.createElement(\"h4\",{class:\"modal-title\"},\"Edit Todo\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(todo.description);}},\"\\xD7\")),/*#__PURE__*/React.createElement(\"div\",{class:\"modal-body\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{class:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-warning\",\"data-dismiss\":\"modal\",onClick:function onClick(){return editText(todo.todo_id);}},\"Edit\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(todo.description);}},\"Close\"))))));};export default EditTodo;","map":{"version":3,"sources":["C:/Users/Imama Jawad/Desktop/projects/pern/client/src/components/EditTodos.js"],"names":["React","Fragment","useState","EditTodo","todo","editText","id","body","description","fetch","method","headers","JSON","stringify","res","window","location","console","error","message","setDescription","todo_id","e","target","value"],"mappings":"shBACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CAC7B;AAEA,GAAMC,CAAAA,QAAQ,2FAAG,iBAAMC,EAAN,+IAEPC,IAFO,CAEA,CAAEC,WAAW,CAAXA,WAAF,CAFA,uBAIKC,CAAAA,KAAK,CAAC,mCAAD,CAAsC,CAC3DC,MAAM,CAAE,KADmD,CAE3DC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFkD,CAG3DJ,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAHqD,CAAtC,CAJV,QAIPO,GAJO,eAUbC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CAVa,+EAYbC,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EAZa,oEAAH,kBAARd,CAAAA,QAAQ,6CAAd,CAH6B,cAmBSH,QAAQ,CAACE,IAAI,CAACI,WAAN,CAnBjB,wCAmBtBA,WAnBsB,eAmBTY,cAnBS,eAoB7B,mBACE,oBAAC,QAAD,mBACE,8BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,iBAFR,CAGE,cAAY,OAHd,CAIE,2BAAmBhB,IAAI,CAACiB,OAAxB,CAJF,SADF,cAUE,2BACE,KAAK,CAAC,OADR,CAEE,EAAE,aAAOjB,IAAI,CAACiB,OAAZ,CAFJ,CAGE,OAAO,CAAE,yBAAMD,CAAAA,cAAc,CAAChB,IAAI,CAACI,WAAN,CAApB,EAHX,eAKE,2BAAK,KAAK,CAAC,cAAX,eACE,2BAAK,KAAK,CAAC,eAAX,eACE,2BAAK,KAAK,CAAC,cAAX,eACE,0BAAI,KAAK,CAAC,aAAV,cADF,cAEE,8BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,OAFR,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,yBAAMY,CAAAA,cAAc,CAAChB,IAAI,CAACI,WAAN,CAApB,EAJX,SAFF,CADF,cAaE,2BAAK,KAAK,CAAC,YAAX,eACE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,KAAK,CAAEA,WAHT,CAIE,QAAQ,CAAE,kBAAAc,CAAC,QAAIF,CAAAA,cAAc,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAJb,EADF,CAbF,cAsBE,2BAAK,KAAK,CAAC,cAAX,eACE,8BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,iBAFR,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,yBAAMnB,CAAAA,QAAQ,CAACD,IAAI,CAACiB,OAAN,CAAd,EAJX,SADF,cASE,8BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,gBAFR,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,yBAAMD,CAAAA,cAAc,CAAChB,IAAI,CAACI,WAAN,CAApB,EAJX,UATF,CAtBF,CADF,CALF,CAVF,CADF,CA8DD,CAlFD,CAoFA,cAAeL,CAAAA,QAAf","sourcesContent":["\r\nimport React, { Fragment, useState } from \"react\";\r\n\r\nconst EditTodo = ({ todo }) => {\r\n  //editText function\r\n\r\n  const editText = async id => {\r\n    try {\r\n      const body = { description };\r\n\r\n      const res = await fetch('http://localhost:5000/todos/${id}', {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      window.location = \"/\";\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const [description, setDescription] = useState(todo.description);\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-warning\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${todo.todo_id}`}\r\n      >\r\n        Edit\r\n      </button>\r\n      {/* id = \"id21\"*/}\r\n      <div\r\n        class=\"modal\"\r\n        id={`id${todo.todo_id}`}\r\n        onClick={() => setDescription(todo.description)}\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h4 class=\"modal-title\">Edit Todo</h4>\r\n              <button\r\n                type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"modal-body\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={description}\r\n                onChange={e => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-warning\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => editText(todo.todo_id)}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-danger\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EditTodo;\r\n"]},"metadata":{},"sourceType":"module"}